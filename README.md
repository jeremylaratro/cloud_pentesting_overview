# cloud_pentesting_overview
Cloud Pentesting Meta Analysis


This repo will be, for lack of a better word, a meta analysis or compilation of various cloud pentesting resources.

I recently started getting deeper into the world of cloud pentesting and wanted to put together some resources for a good starting point for beginners. 

## Overview
> Common Technologies

- AWS
- GCP
- Azure
- Kubernetes
- IBM
- Digital Ocean

 -----
 
## Resources
> Repos, links, etc

#### Cheatsheets and Compilations

https://github.com/dafthack/CloudPentestCheatsheets

https://github.com/TROUBLE-1/Cloud-Pentesting

https://github.com/vengatesh-nagarajan/Cloud-pentest

https://github.com/kh4sh3i/cloud-penetration-testing

#### General Resources
https://pentestbook.six2dez.com/enumeration/cloud

https://cloud.hacktricks.xyz/welcome/readme

https://bishopfox.com/blog/cloud-pen-testing-tools

https://medium.com/@mancusomjm/aws-azure-google-cloud-penetration-testing-resources-ca4b2bf1a4a6

https://github.com/jassics/security-study-plan


-----

## Technology Specifics

### AWS

- #### AWS: Resources

https://pentestbook.six2dez.com/enumeration/cloud/aws

https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Cloud%20-%20AWS%20Pentest.md

https://www.hackthebox.com/blog/aws-pentesting-guide

https://rhinosecuritylabs.com/penetration-testing/penetration-testing-aws-cloud-need-know/

https://www.cobalt.io/blog/aws-pentesting-essential-guide

https://infosecwriteups.com/deep-dive-into-aws-penetration-testing-a99192a26898

https://cybertalents.com/blog/aws-penetration-testing-what-you-need-to-know

https://github.com/pop3ret/AWSome-Pentesting/blob/main/AWSome-Pentesting-Cheatsheet.md

https://github.com/CyberSecArmy/AWS-Offensive-Exploitation---Pentesting

https://github.com/rootcathacking/cloudcat/blob/main/aws_cli.md

https://github.com/NickTheSecurityDude/AWS-Pentesting-Notes

https://github.com/0xdeadpool/AWS-Essentails-for-Pentest


- #### AWS: Tools

https://github.com/sebastian-mora/AWS-Loot

https://github.com/DavidDikker/endgame

https://github.com/gwen001/s3-buckets-finder

https://github.com/Ebryx/S3Rec0n

https://github.com/ajinabraham/aws_security_tools

- #### AWS: Labs

https://cloud.hacktricks.xyz/pentesting-cloud/aws-security

https://github.com/juanjoSanz/aws-pentesting-lab

https://github.com/torque59/AWS-Vulnerable-Lambda

https://github.com/stafordtituss/HazProne

https://github.com/applied-network-security/aws-pentesting-lab

https://github.com/marcosValle/auto-pentest-lab

>- Major topics to know:
- 	IAM Policies
- 	S3 Buckets
- 	EC2 Instances
- 	lambda functions & API endpoints
- 	VPC	
- 	Group and Managed policies


-----

### Azure
>- Things to look for
-	Blobs
- 	AFR
- 	Leaked Tokens/Credentials
- 	Authentication and password attacks - spraying oauth
	
#### Azure: Resources

https://pentestbook.six2dez.com/enumeration/cloud/azure

https://github.com/CMEPW/azure-mindmap

https://cloud.hacktricks.xyz/pentesting-cloud/azure-security

https://github.com/Kyuu-Ji/Awesome-Azure-Pentest

https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Cloud%20-%20Azure%20Pentest.md

https://www.cobalt.io/blog/azure-ad-pentesting-fundamentals

https://www.getastra.com/blog/security-audit/azure-penetration-testing/

https://github.com/mburrough/pentestingazureapps

https://github.com/badchars/AzureAD-Pentest

https://github.com/sabrinalupsan/pentesting-azure-ad

- #### Azure: Tools

https://github.com/ZephrFish/AzureAttackKit

https://github.com/AlteredSecurity/365-Stealer

https://github.com/optionalCTF/SSOh-No

https://github.com/CasperGN/MFASweep.py

https://github.com/nyxgeek/onedrive_user_enum

- #### Azure: Labs

https://github.com/esell/azure-sec-lab

https://github.com/uc-cyberclub/azure-pentesting-lab-tf

-----

### Google Cloud

- #### GCP: Resources
https://pentestbook.six2dez.com/enumeration/cloud/gcp

https://cloud.hacktricks.xyz/pentesting-cloud/gcp-security

-----

>Kubernetes

https://cloud.hacktricks.xyz/pentesting-cloud/kubernetes-security

https://pentestbook.six2dez.com/enumeration/cloud/docker-and-and-kubernetes

> Cloud Pentesting Walkthroughs and Attack Methodologies

-----


### Practice Labs & Writeups/Walkthroughs
##### Other/General Labs:

https://github.com/appsecco/breaking-and-pwning-apps-and-servers-aws-azure-training

#### Walkthroughs:

https://github.com/appsecco/attacking-cloudgoat2

https://rhinosecuritylabs.com/aws/cloudgoat-walkthrough-rce_web_app/

https://github.com/appsecco/attacking-cloudgoat2

https://resources.infosecinstitute.com/topic/cloudgoat-walkthrough-series-iam-privilege-escalation-by-attachment/

-----

### Tools

https://github.com/nccgroup/ScoutSuite

https://github.com/iknowjason/edge

https://github.com/0xsha/CloudBrute

https://github.com/Macmod/STARS

https://github.com/Zeus-Labs/ZeusCloud

https://github.com/rams3sh/Aaia

https://github.com/RhinoSecurityLabs/ccat

https://github.com/404tk/cloudtoolkit

https://github.com/lord-alfred/ipranges

#### Cloud-Specific Frameworks
https://github.com/gl4ssesbo1/Nebula



- SSRF
- RCE 
-  instance-profile-attachment
	-  have low or insufficient privileges, but this permission - can create a new EC2 instance with much high privileges than can be further exploited



> Tool example commands

```
aws
enumerate-iam.py
pacu
s3scanner
weirdAAL.py
scoutsuite
```

awscli
```
aws s3 ls --profile <aws_profile>

aws s3 ls s3://s3bucket_name --recursive --profile <profile_name>

aws ec2 describe-instances --profile <profile_name>

aws ec2 describe-instances \
    --query "Reservations[*].Instances[*].PublicIpAddress" \
    --output text \
    --profile <profile_name>
	
aws s3 sync s3://cg-secret-s3-bucket-<cgid> .
```
- enumerate the cloud service, find information like:
	- aws creds
	- secrets / tokens
	- ssh keys
	- IAM roles

- Find ssh keys --> use 'aws s3 cp' to get ssh key 




https://github.com/carnal0wnage/weirdAAL/wiki/_modules_ec2
```
 python3 weirdAAL.py -m lambda_get_account_settings -t s3_bucket
 
 ```
 
 https://github.com/nccgroup/ScoutSuite
