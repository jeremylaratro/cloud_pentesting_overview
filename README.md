# cloud_pentesting_overview
Cloud Pentesting Meta Analysis


This repo will be, for lack of a better word, a meta analysis or compilation of various cloud pentesting resources.

I recently started getting deeper into the world of cloud pentesting and wanted to put together some resources for a good starting point for beginners. 

## Overview
> Common Technologies

- AWS
- GCP
- Azure
- Kubernetes
- IBM
- Digital Ocean

 -----
 
 ### Resources
> Repos, links, etc

#### Cheatsheets and Compilations

- https://github.com/dafthack/CloudPentestCheatsheets

- https://github.com/TROUBLE-1/Cloud-Pentesting

- https://github.com/vengatesh-nagarajan/Cloud-pentest

- https://github.com/kh4sh3i/cloud-penetration-testing

#### General Resources

- https://cloud.hacktricks.xyz/welcome/readme

- https://bishopfox.com/blog/cloud-pen-testing-tools

- https://medium.com/@mancusomjm/aws-azure-google-cloud-penetration-testing-resources-ca4b2bf1a4a6

-----

#### Technology Specifics
> Google Cloud

- https://pentestbook.six2dez.com/enumeration/cloud/gcp

- https://cloud.hacktricks.xyz/pentesting-cloud/gcp-security

> AWS

- https://pentestbook.six2dez.com/enumeration/cloud/aws

- Major topics to know:
- 	IAM Policies
- 	S3 Buckets
- 	EC2 Instances
- 	lambda functions & API endpoints
- 	VPC	
- 	Group and Managed policies

> Azure

- https://pentestbook.six2dez.com/enumeration/cloud/azure

-----

>Kubernetes

- https://cloud.hacktricks.xyz/pentesting-cloud/kubernetes-security

- https://pentestbook.six2dez.com/enumeration/cloud/docker-and-and-kubernetes

> Cloud Pentesting Walkthroughs and Attack Methodologies

-----


#### Practice Labs & Writeups/Walkthroughs
Hacktricks already has an awesome compilation of this:

https://cloud.hacktricks.xyz/pentesting-cloud/aws-security

https://github.com/appsecco/attacking-cloudgoat2

https://rhinosecuritylabs.com/aws/cloudgoat-walkthrough-rce_web_app/

https://github.com/appsecco/attacking-cloudgoat2

https://resources.infosecinstitute.com/topic/cloudgoat-walkthrough-series-iam-privilege-escalation-by-attachment/

-----

#### Tools

https://github.com/iknowjason/edge


#### Cloud-Specific Frameworks
https://github.com/gl4ssesbo1/Nebula



- SSRF
- RCE 
-  instance-profile-attachment
	-  have low or insufficient privileges, but this permission - can create a new EC2 instance with much high privileges than can be further exploited



> Tool example commands

```
aws
enumerate-iam.py
pacu
s3scanner
weirdAAL.py
scoutsuite
```

awscli
```
aws s3 ls --profile <aws_profile>

aws s3 ls s3://s3bucket_name --recursive --profile <profile_name>

aws ec2 describe-instances --profile <profile_name>

aws ec2 describe-instances \
    --query "Reservations[*].Instances[*].PublicIpAddress" \
    --output text \
    --profile <profile_name>
	
aws s3 sync s3://cg-secret-s3-bucket-<cgid> .
```
- enumerate the cloud service, find information like:
	- aws creds
	- secrets / tokens
	- ssh keys
	- IAM roles

- Find ssh keys --> use 'aws s3 cp' to get ssh key 




https://github.com/carnal0wnage/weirdAAL/wiki/_modules_ec2
```
 python3 weirdAAL.py -m lambda_get_account_settings -t s3_bucket
 
 ```
 
 https://github.com/nccgroup/ScoutSuite
